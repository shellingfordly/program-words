import{c as D,d as P,r as p,D as fe,n as me,k as O,b as c,w as E,v as k,A as he,B as be,E as we,a as F,y as T,G as Y,H as xe,J as ee,K as ye,L as M,M as _e,N as ne,T as oe,O as Be,P as ae,Q as te,R as re,m as R,S as ke,U as Ce,V as Oe,W as ze,X as Se,Y as Pe,F as ie,Z as Ie,$ as le,a0 as W,a1 as Te,I as Ae,a2 as De,a3 as se,a4 as Ee,z as Le,a5 as $e,a6 as Re,a7 as Ne,a8 as X,a9 as Ke,aa as Fe,o as K,ab as G,i as He,e as Ye,g as Me}from"./index.93f07575.js";import{p as ce}from"./index.7cb10b3d.js";import{L as We}from"./index.d0b360ff.js";import{u as U,C as Ue}from"./index.067850f1.js";import{W as V}from"./data.ec52ea56.js";import{B as H}from"./index.294ecc96.js";import{c as je}from"./index.1a4a6701.js";const[de,Z]=D("action-bar"),ue=Symbol(de),Xe={placeholder:Boolean,safeAreaInsetBottom:O};var Ge=P({name:de,props:Xe,setup(e,{slots:n}){const o=p(),t=fe(o,Z),{linkChildren:a}=me(ue);a();const s=()=>{var i;return c("div",{ref:o,class:[Z(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(i=n.default)==null?void 0:i.call(n)])};return()=>e.placeholder?t(s):s()}});const Ve=E(Ge),[Ze,Je]=D("action-bar-button"),Qe=k({},he,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var qe=P({name:Ze,props:Qe,setup(e,{slots:n}){const o=be(),{parent:t,index:a}=we(ue),s=F(()=>{if(t){const r=t.children[a.value-1];return!(r&&"isButton"in r)}}),i=F(()=>{if(t){const r=t.children[a.value+1];return!(r&&"isButton"in r)}});return U({isButton:!0}),()=>{const{type:r,icon:h,text:g,color:f,loading:v,disabled:b}=e;return c(H,{class:Je([r,{last:i.value,first:s.value}]),size:"large",type:r,icon:h,color:f,loading:v,disabled:b,onClick:o},{default:()=>[n.default?n.default():g]})}}});const J=E(qe),j={show:Boolean,zIndex:T,overlay:O,duration:T,teleport:[String,Object],lockScroll:O,lazyRender:O,beforeClose:Function,overlayStyle:Object,overlayClass:Y,transitionAppear:Boolean,closeOnClickOverlay:O},en=Object.keys(j);function nn(e,n){return e>n?"horizontal":n>e?"vertical":""}function on(){const e=p(0),n=p(0),o=p(0),t=p(0),a=p(0),s=p(0),i=p(""),r=()=>i.value==="vertical",h=()=>i.value==="horizontal",g=()=>{o.value=0,t.value=0,a.value=0,s.value=0,i.value=""};return{move:b=>{const x=b.touches[0];o.value=(x.clientX<0?0:x.clientX)-e.value,t.value=x.clientY-n.value,a.value=Math.abs(o.value),s.value=Math.abs(t.value);const C=10;(!i.value||a.value<C&&s.value<C)&&(i.value=nn(a.value,s.value))},start:b=>{g(),e.value=b.touches[0].clientX,n.value=b.touches[0].clientY},reset:g,startX:e,startY:n,deltaX:o,deltaY:t,offsetX:a,offsetY:s,direction:i,isVertical:r,isHorizontal:h}}let I=0;const Q="van-overflow-hidden";function an(e,n){const o=on(),t="01",a="10",s=f=>{o.move(f);const v=o.deltaY.value>0?a:t,b=_e(f.target,e.value),{scrollHeight:x,offsetHeight:C,scrollTop:S}=b;let z="11";S===0?z=C>=x?"00":"01":S+C>=x&&(z="10"),z!=="11"&&o.isVertical()&&!(parseInt(z,2)&parseInt(v,2))&&ce(f,!0)},i=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",s,{passive:!1}),I||document.body.classList.add(Q),I++},r=()=>{I&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",s),I--,I||document.body.classList.remove(Q))},h=()=>n()&&i(),g=()=>n()&&r();xe(h),ee(g),ye(g),M(n,f=>{f?i():r()})}function ve(e){const n=p(!1);return M(e,o=>{o&&(n.value=o)},{immediate:!0}),o=>()=>n.value?o():null}const[tn,rn]=D("overlay"),ln={show:Boolean,zIndex:T,duration:T,className:Y,lockScroll:O,lazyRender:O,customStyle:Object};var sn=P({name:tn,props:ln,setup(e,{slots:n}){const o=p(),t=ve(()=>e.show||!e.lazyRender),a=i=>{e.lockScroll&&ce(i,!0)},s=t(()=>{var i;const r=k(Be(e.zIndex),e.customStyle);return ae(e.duration)&&(r.animationDuration=`${e.duration}s`),te(c("div",{ref:o,style:r,class:[rn(),e.className]},[(i=n.default)==null?void 0:i.call(n)]),[[re,e.show]])});return ne("touchmove",a,{target:o}),()=>c(oe,{name:"van-fade",appear:!0},{default:s})}});const cn=E(sn),dn=k({},j,{round:Boolean,position:R("center"),closeIcon:R("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:R("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[un,q]=D("popup");var vn=P({name:un,inheritAttrs:!1,props:dn,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:n,attrs:o,slots:t}){let a,s;const i=p(),r=p(),h=ve(()=>e.show||!e.lazyRender),g=F(()=>{const d={zIndex:i.value};if(ae(e.duration)){const w=e.position==="center"?"animationDuration":"transitionDuration";d[w]=`${e.duration}s`}return d}),f=()=>{a||(a=!0,i.value=e.zIndex!==void 0?+e.zIndex:Ie(),n("open"))},v=()=>{a&&le(e.beforeClose,{done(){a=!1,n("close"),n("update:show",!1)}})},b=d=>{n("click-overlay",d),e.closeOnClickOverlay&&v()},x=()=>{if(e.overlay)return c(cn,{show:e.show,class:e.overlayClass,zIndex:i.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:b},{default:t["overlay-content"]})},C=d=>{n("click-close-icon",d),v()},S=()=>{if(e.closeable)return c(Ae,{role:"button",tabindex:0,name:e.closeIcon,class:[q("close-icon",e.closeIconPosition),Te],classPrefix:e.iconPrefix,onClick:C},null)},z=()=>n("opened"),l=()=>n("closed"),m=d=>n("keydown",d),B=h(()=>{var d;const{round:w,position:L,safeAreaInsetTop:N,safeAreaInsetBottom:ge}=e;return te(c("div",W({ref:r,style:g.value,role:"dialog",tabindex:0,class:[q({round:w,[L]:L}),{"van-safe-area-top":N,"van-safe-area-bottom":ge}],onKeydown:m},o),[(d=t.default)==null?void 0:d.call(t),S()]),[[re,e.show]])}),y=()=>{const{position:d,transition:w,transitionAppear:L}=e,N=d==="center"?"van-fade":`van-popup-slide-${d}`;return c(oe,{name:w||N,appear:L,onAfterEnter:z,onAfterLeave:l},{default:B})};return M(()=>e.show,d=>{d&&!a&&(f(),o.tabindex===0&&ke(()=>{var w;(w=r.value)==null||w.focus()})),!d&&a&&(a=!1,n("close"))}),U({popupRef:r}),an(r,()=>e.show&&e.lockScroll),ne("popstate",()=>{e.closeOnPopstate&&(v(),s=!1)}),Ce(()=>{e.show&&f()}),Oe(()=>{s&&(n("update:show",!0),s=!1)}),ee(()=>{e.show&&e.teleport&&(v(),s=!0)}),ze(Se,()=>e.show),()=>e.teleport?c(Pe,{to:e.teleport},{default:()=>[x(),y()]}):c(ie,null,[x(),y()])}});const pn=E(vn);function gn(){const e=se({show:!1}),n=a=>{e.show=a},o=a=>{k(e,a,{transitionAppear:!0}),n(!0)},t=()=>n(!1);return U({open:o,close:t,toggle:n}),{open:o,close:t,state:e,toggle:n}}function fn(e){const n=De(e),o=document.createElement("div");return document.body.appendChild(o),{instance:n.mount(o),unmount(){n.unmount(),document.body.removeChild(o)}}}const[mn,_,$]=D("dialog"),hn=k({},j,{title:String,theme:String,width:T,message:[String,Function],callback:Function,allowHtml:Boolean,className:Y,transition:R("van-dialog-bounce"),messageAlign:String,closeOnPopstate:O,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:O,closeOnClickOverlay:Boolean}),bn=[...en,"transition","closeOnPopstate"];var pe=P({name:mn,props:hn,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:n,slots:o}){const t=p(),a=se({confirm:!1,cancel:!1}),s=l=>n("update:show",l),i=l=>{var m;s(!1),(m=e.callback)==null||m.call(e,l)},r=l=>()=>{!e.show||(n(l),e.beforeClose?(a[l]=!0,le(e.beforeClose,{args:[l],done(){i(l),a[l]=!1},canceled(){a[l]=!1}})):i(l))},h=r("cancel"),g=r("confirm"),f=$e(l=>{var m,B;if(l.target!==((B=(m=t.value)==null?void 0:m.popupRef)==null?void 0:B.value))return;({Enter:e.showConfirmButton?g:X,Escape:e.showCancelButton?h:X})[l.key](),n("keydown",l)},["enter","esc"]),v=()=>{const l=o.title?o.title():e.title;if(l)return c("div",{class:_("header",{isolated:!e.message&&!o.default})},[l])},b=l=>{const{message:m,allowHtml:B,messageAlign:y}=e,d=_("message",{"has-title":l,[y]:y}),w=Ke(m)?m():m;return B&&typeof w=="string"?c("div",{class:d,innerHTML:w},null):c("div",{class:d},[w])},x=()=>{if(o.default)return c("div",{class:_("content")},[o.default()]);const{title:l,message:m,allowHtml:B}=e;if(m){const y=!!(l||o.title);return c("div",{key:B?1:0,class:_("content",{isolated:!y})},[b(y)])}},C=()=>c("div",{class:[Ne,_("footer")]},[e.showCancelButton&&c(H,{size:"large",text:e.cancelButtonText||$("cancel"),class:_("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:h},null),e.showConfirmButton&&c(H,{size:"large",text:e.confirmButtonText||$("confirm"),class:[_("confirm"),{[Re]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]),S=()=>c(Ve,{class:_("footer")},{default:()=>[e.showCancelButton&&c(J,{type:"warning",text:e.cancelButtonText||$("cancel"),class:_("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:h},null),e.showConfirmButton&&c(J,{type:"danger",text:e.confirmButtonText||$("confirm"),class:_("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]}),z=()=>o.footer?o.footer():e.theme==="round-button"?S():C();return()=>{const{width:l,title:m,theme:B,message:y,className:d}=e;return c(pn,W({ref:t,role:"dialog",class:[_([B]),d],style:{width:Le(l)},tabindex:0,"aria-labelledby":m||y,onKeydown:f,"onUpdate:show":s},Ee(e,bn)),{default:()=>[v(),x(),z()]})}}});let A;function wn(){({instance:A}=fn({setup(){const{state:n,toggle:o}=gn();return()=>c(pe,W(n,{"onUpdate:show":o}),null)}}))}function u(e){return Fe?new Promise((n,o)=>{A||wn(),A.open(k({},u.currentOptions,e,{callback:t=>{(t==="confirm"?n:o)(t)}}))}):Promise.resolve()}u.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};u.currentOptions=k({},u.defaultOptions);u.alert=u;u.confirm=e=>u(k({showCancelButton:!0},e));u.close=()=>{A&&A.toggle(!1)};u.setDefaultOptions=e=>{k(u.currentOptions,e)};u.resetDefaultOptions=()=>{u.currentOptions=k({},u.defaultOptions)};u.Component=E(pe);u.install=e=>{e.use(u.Component),e.config.globalProperties.$dialog=u};const zn=P({__name:"WordList",setup(e){const n=p([]),o=p(!1),t=p(!1);let a=0;const s=()=>{setTimeout(()=>{for(let r=0;r<20;r++){if(a>=V.length){t.value=!0;break}n.value.push(V[a++])}o.value=!1},200)};function i(r){u.alert({title:r.word,message:()=>je(r)})}return(r,h)=>{const g=Ue,f=We;return K(),G(f,{loading:o.value,"onUpdate:loading":h[0]||(h[0]=v=>o.value=v),finished:t.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:s},{default:He(()=>[(K(!0),Ye(ie,null,Me(n.value,v=>(K(),G(g,{key:v.word,title:v.word,onClick:b=>i(v)},null,8,["title","onClick"]))),128))]),_:1},8,["loading","finished"])}}});export{zn as default};
